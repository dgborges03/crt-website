---
interface Props {
  name: string;
  major: string;        // e.g., "CS '27"
  projects: string;     // short list, e.g., "Rover, Vision"
  image: string;        // import or /images path
  linkedin?: string;
  email?: string;
  instagram?: string;
  facebook?: string;
}

const { name, major, projects, image, linkedin, email, instagram, facebook } = Astro.props;

const emailHref = email
  ? (email.includes("@") ? `mailto:${email}` : `mailto:${email}@caltech.edu`)
  : undefined;
---

<article class="group overflow-hidden rounded-2xl border border-white/10 bg-zinc-900/50 shadow-lg transition hover:border-orange-500/40 hover:shadow-orange-500/10">
  <div class="relative aspect-[1/1] overflow-hidden">
    <img
      src={image}
      alt={name}
      class="h-full w-full object-cover transition duration-500 group-hover:scale-[1.03]"
      loading="lazy"
      decoding="async"
    />
    <div class="pointer-events-none absolute inset-0 bg-gradient-to-t from-zinc-950/50 via-transparent to-transparent"></div>
  </div>

  <div class="p-4 justify-items-center">
    <h3 class="font-display text-sm sm:text-base text-orange-400 text-center">{name}</h3>
    <p class="mt-1 text-xs text-zinc-300 text-center">{major}</p>
    <p class="mt-1 text-xs text-zinc-400 text-center">{projects}</p>

    <div class="mt-3 flex items-center gap-3">
      {linkedin && (
        <a href={linkedin} target="_blank" rel="noreferrer" aria-label={`${name} on LinkedIn`} class="hover:text-orange-400">
          <svg viewBox="0 0 24 24" class="h-4 w-4" fill="currentColor" aria-hidden="true">
            <path d="M4.98 3.5A2.5 2.5 0 1 1 2.5 6a2.5 2.5 0 0 1 2.48-2.5ZM3 8.5h4v12H3v-12Zm7 0h3.8v1.64h.05c.53-.95 1.83-1.95 3.76-1.95 4.02 0 4.77 2.65 4.77 6.09V20.5h-4v-5.38c0-1.28-.02-2.92-1.78-2.92-1.78 0-2.06 1.39-2.06 2.83v5.47h-4v-12Z"/>
          </svg>
        </a>
      )}
      {emailHref && (
        <a href={emailHref} aria-label={`Email ${name}`} class="hover:text-orange-400">
          <svg viewBox="0 0 24 24" class="h-4 w-4" fill="currentColor" aria-hidden="true">
            <path d="M2 6.5A2.5 2.5 0 0 1 4.5 4h15A2.5 2.5 0 0 1 22 6.5v11A2.5 2.5 0 0 1 19.5 20h-15A2.5 2.5 0 0 1 2 17.5v-11Zm2.5-.5a.5.5 0 0 0-.5.5v.26l8 5.24 8-5.24V6.5a.5.5 0 0 0-.5-.5h-15Zm15.5 3.58-7.47 4.9a1 1 0 0 1-1.06 0L4 9.58V17.5a.5.5 0 0 0 .5.5h15a.5.5 0 0 0 .5-.5V9.58Z"/>
          </svg>
        </a>
      )}
      {instagram && (
        <a href={instagram} target="_blank" rel="noreferrer" aria-label={`${name} on Instagram`} class="hover:text-orange-400">
          <svg viewBox="0 0 24 24" class="h-4 w-4" fill="currentColor" aria-hidden="true">
            <path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5Zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7Zm5 3.5A5.5 5.5 0 1 1 6.5 13 5.5 5.5 0 0 1 12 7.5Zm5.75-2.75a1 1 0 1 1-1 1 1 0 0 1 1-1Z"/>
          </svg>
        </a>
      )}
      {facebook && (
        <a href={facebook} target="_blank" rel="noreferrer" aria-label={`${name} on Facebook`} class="hover:text-orange-400">
          <svg viewBox="0 0 24 24" class="h-4 w-4" fill="currentColor" aria-hidden="true">
            <path d="M13.5 22v-8h2.5l.5-3.1h-3V8.5c0-.9.3-1.5 1.6-1.5H17V4.2c-.3 0-1.2-.2-2.3-.2-2.3 0-3.7 1.3-3.7 3.8v2.1H9v3.1h2v8h2.5Z"/>
          </svg>
        </a>
      )}
    </div>
  </div>
</article>
